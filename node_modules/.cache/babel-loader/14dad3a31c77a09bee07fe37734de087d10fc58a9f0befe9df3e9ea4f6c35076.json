{"ast":null,"code":"// import { Loading } from 'element-ui';\n\nimport FirstRecommend from \"@/components/FirstRecommend/index.vue\";\nimport { getBlogByLevel } from \"@/api/index\";\nexport default {\n  name: \"blogIndex\",\n  components: {\n    FirstRecommend\n  },\n  data() {\n    return {\n      loadingInstance: null,\n      // loading对象\n      VUE_MOGU_WEB: process.env.VUE_MOGU_WEB,\n      firstData: [],\n      //；一级推荐数据\n      secondData: [],\n      //；二级级推荐数据\n      thirdData: [],\n      //三级推荐\n      fourthData: [],\n      //四级推荐\n      newBlogData: [],\n      //最新文章\n      hotBlogData: [],\n      //最热文章\n      hotTagData: [],\n      //最新标签\n      keyword: \"\",\n      currentPage: 1,\n      pageSize: 15,\n      total: 0,\n      //总数量\n      isEnd: false,\n      //是否到底底部了\n      loading: false //是否正在加载\n    };\n  },\n\n  mounted() {\n    // 注册scroll事件并监听\n    this.loading = false;\n  },\n  created() {\n    var secondParams = new URLSearchParams();\n    secondParams.append(\"level\", 2);\n    // 是否排序\n    secondParams.append(\"useSort\", 1);\n    getBlogByLevel(secondParams).then(response => {\n      if (response.code == this.$ECode.SUCCESS) {\n        this.secondData = response.data.records;\n      }\n    });\n  },\n  methods: {\n    //跳转到文章详情【或推广链接】\n    goToInfo(blog) {\n      if (blog.type == \"0\") {\n        let routeData = this.$router.resolve({\n          path: \"/info\",\n          query: {\n            blogOid: blog.oid\n          }\n        });\n        window.open(routeData.href, '_blank');\n      } else if (blog.type == \"1\") {\n        var params = new URLSearchParams();\n        params.append(\"uid\", blog.uid);\n        // getBlogByUid(params).then(response => {\n        //   // 记录一下用户点击日志\n        // });\n        window.open(blog.outsideLink, '_blank');\n      }\n    }\n  }\n};","map":{"version":3,"names":["FirstRecommend","getBlogByLevel","name","components","data","loadingInstance","VUE_MOGU_WEB","process","env","firstData","secondData","thirdData","fourthData","newBlogData","hotBlogData","hotTagData","keyword","currentPage","pageSize","total","isEnd","loading","mounted","created","secondParams","URLSearchParams","append","then","response","code","$ECode","SUCCESS","records","methods","goToInfo","blog","type","routeData","$router","resolve","path","query","blogOid","oid","window","open","href","params","uid","outsideLink"],"sources":["D:\\code\\blog\\blog_web\\src\\views\\blogIndex.vue"],"sourcesContent":["<template>\r\n  <article>\r\n    <!--banner begin-->\r\n    <div class=\"picsbox\">\r\n      <FirstRecommend></FirstRecommend>\r\n      <!--banner end-->\r\n\r\n      <!-- 二级推荐 -->\r\n      <div class=\"toppic\">\r\n        <h1>二级推荐</h1>\r\n<!--        <li v-for=\"item in secondData\" :key=\"item.uid\" @click=\"goToInfo(item)\">-->\r\n<!--          <a href=\"javascript:void(0);\">-->\r\n<!--            <i>-->\r\n<!--              <img v-if=\"item.photoList\" :src=\"item.photoList[0]\">-->\r\n<!--            </i>-->\r\n<!--            <h2>{{item.title}}</h2>-->\r\n<!--            <span>{{item.blogSort.sortName}}</span>-->\r\n<!--          </a>-->\r\n<!--        </li>-->\r\n      </div>\r\n    </div>\r\n    <div class=\"blank\"></div>\r\n\r\n    <!--blogsbox begin-->\r\n    <div class=\"blogsbox\">\r\n      <div>\r\n        <h3 class=\"blogtitle\">\r\n          <a href=\"javascript:void(0);\" @click=\"goToInfo(item)\">Title</a>\r\n        </h3>\r\n\r\n        <span class=\"blogpic\">\r\n          <a href=\"javascript:void(0);\" @click=\"goToInfo(item)\" title>\r\n<!--            <img v-if=\"item.photoList\" :src=\"item.photoList[0]\" alt>-->\r\n            <div>Img</div>\r\n          </a>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </article>\r\n</template>\r\n\r\n<script>\r\n  // import { Loading } from 'element-ui';\r\n\r\n  import FirstRecommend from \"@/components/FirstRecommend/index.vue\";\r\n  import {getBlogByLevel} from \"@/api/index\";\r\n\r\n  export default {\r\n    name: \"blogIndex\",\r\n    components: {\r\n      FirstRecommend\r\n\r\n    },\r\n    data() {\r\n      return {\r\n        loadingInstance: null, // loading对象\r\n        VUE_MOGU_WEB: process.env.VUE_MOGU_WEB,\r\n        firstData: [], //；一级推荐数据\r\n        secondData: [], //；二级级推荐数据\r\n        thirdData: [], //三级推荐\r\n        fourthData: [], //四级推荐\r\n        newBlogData: [], //最新文章\r\n        hotBlogData: [], //最热文章\r\n        hotTagData: [], //最新标签\r\n        keyword: \"\",\r\n        currentPage: 1,\r\n        pageSize: 15,\r\n        total: 0, //总数量\r\n        isEnd: false, //是否到底底部了\r\n        loading: false //是否正在加载\r\n      };\r\n    },\r\n    mounted() {\r\n      // 注册scroll事件并监听\r\n      this.loading = false;\r\n    },\r\n    created() {\r\n      var secondParams = new URLSearchParams();\r\n      secondParams.append(\"level\", 2);\r\n      // 是否排序\r\n      secondParams.append(\"useSort\", 1);\r\n      getBlogByLevel(secondParams).then(response => {\r\n        if(response.code == this.$ECode.SUCCESS) {\r\n          this.secondData = response.data.records;\r\n        }\r\n      });\r\n    },\r\n    methods: {\r\n      //跳转到文章详情【或推广链接】\r\n      goToInfo(blog) {\r\n        if(blog.type == \"0\") {\r\n          let routeData = this.$router.resolve({\r\n            path: \"/info\",\r\n            query: {blogOid: blog.oid}\r\n          });\r\n          window.open(routeData.href, '_blank');\r\n        } else if(blog.type == \"1\") {\r\n          var params = new URLSearchParams();\r\n          params.append(\"uid\", blog.uid);\r\n          // getBlogByUid(params).then(response => {\r\n          //   // 记录一下用户点击日志\r\n          // });\r\n          window.open(blog.outsideLink, '_blank');\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n\r\n<style>\r\n\r\n</style>"],"mappings":"AA0CE;;AAEA,OAAOA,cAAa,MAAO,uCAAuC;AAClE,SAAQC,cAAc,QAAO,aAAa;AAE1C,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,UAAU,EAAE;IACVH;EAEF,CAAC;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,eAAe,EAAE,IAAI;MAAE;MACvBC,YAAY,EAAEC,OAAO,CAACC,GAAG,CAACF,YAAY;MACtCG,SAAS,EAAE,EAAE;MAAE;MACfC,UAAU,EAAE,EAAE;MAAE;MAChBC,SAAS,EAAE,EAAE;MAAE;MACfC,UAAU,EAAE,EAAE;MAAE;MAChBC,WAAW,EAAE,EAAE;MAAE;MACjBC,WAAW,EAAE,EAAE;MAAE;MACjBC,UAAU,EAAE,EAAE;MAAE;MAChBC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE,CAAC;MACdC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,CAAC;MAAE;MACVC,KAAK,EAAE,KAAK;MAAE;MACdC,OAAO,EAAE,KAAI,CAAE;IACjB,CAAC;EACH,CAAC;;EACDC,OAAOA,CAAA,EAAG;IACR;IACA,IAAI,CAACD,OAAM,GAAI,KAAK;EACtB,CAAC;EACDE,OAAOA,CAAA,EAAG;IACR,IAAIC,YAAW,GAAI,IAAIC,eAAe,EAAE;IACxCD,YAAY,CAACE,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC;IAC/B;IACAF,YAAY,CAACE,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC;IACjCzB,cAAc,CAACuB,YAAY,CAAC,CAACG,IAAI,CAACC,QAAO,IAAK;MAC5C,IAAGA,QAAQ,CAACC,IAAG,IAAK,IAAI,CAACC,MAAM,CAACC,OAAO,EAAE;QACvC,IAAI,CAACrB,UAAS,GAAIkB,QAAQ,CAACxB,IAAI,CAAC4B,OAAO;MACzC;IACF,CAAC,CAAC;EACJ,CAAC;EACDC,OAAO,EAAE;IACP;IACAC,QAAQA,CAACC,IAAI,EAAE;MACb,IAAGA,IAAI,CAACC,IAAG,IAAK,GAAG,EAAE;QACnB,IAAIC,SAAQ,GAAI,IAAI,CAACC,OAAO,CAACC,OAAO,CAAC;UACnCC,IAAI,EAAE,OAAO;UACbC,KAAK,EAAE;YAACC,OAAO,EAAEP,IAAI,CAACQ;UAAG;QAC3B,CAAC,CAAC;QACFC,MAAM,CAACC,IAAI,CAACR,SAAS,CAACS,IAAI,EAAE,QAAQ,CAAC;MACvC,OAAO,IAAGX,IAAI,CAACC,IAAG,IAAK,GAAG,EAAE;QAC1B,IAAIW,MAAK,GAAI,IAAItB,eAAe,EAAE;QAClCsB,MAAM,CAACrB,MAAM,CAAC,KAAK,EAAES,IAAI,CAACa,GAAG,CAAC;QAC9B;QACA;QACA;QACAJ,MAAM,CAACC,IAAI,CAACV,IAAI,CAACc,WAAW,EAAE,QAAQ,CAAC;MACzC;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}